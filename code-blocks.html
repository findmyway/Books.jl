<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Rik Huijzer" />
  <title>Book – Books.jl</title>
  <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
  <link rel="stylesheet" href="/style.css"/>
</head>
<body>
 
<div class="books-outside">
<aside class="books-menu">
<input type="checkbox" id="menu">
<label for="menu">☰</label>
<div class="books-title">
<a href="/">Books.jl</a>
</div><br />
<span class="books-subtitle">
Create books with Julia
</span>
<div class="books-menu-content">
<li><a class="menu-level-1" href="about.html"><b>1</b> About</a></li>
<li><a class="menu-level-1" href="getting-started.html"><b>2</b> Getting started</a></li>
<li><a class="menu-level-2" href="metadata.html"><b>2.1</b> metadata.yml</a></li>
<li><a class="menu-level-2" href="config.html"><b>2.2</b> config.toml</a></li>
<li><a class="menu-level-2" href="templates.html"><b>2.3</b> Templates</a></li>
<li><a class="menu-level-1" href="demo.html"><b>3</b> Demo</a></li>
<li><a class="menu-level-2" href="embedding-code.html"><b>3.1</b> Embedding code</a></li>
<li><a class="menu-level-2" href="code-blocks.html"><b>3.2</b> Showing code blocks</a></li>
<li><a class="menu-level-2" href="plots.html"><b>3.3</b> Plots</a></li>
<li><a class="menu-level-2" href="other-notes.html"><b>3.4</b> Other notes</a></li>
<li><a class="menu-level-1" href="references.html"><b></b> eferences</a></li>
</div>
</aside>
 
<div class="books-content"> 
<h2 data-number="3.2" id="sec:code-blocks"><span class="header-section-number">3.2</span> Showing code blocks</h2>
<p>Like in Section <a href="/embedding-code.html#sec:embedding-code">3.1</a>, first define a method like</p>
<pre><code>sum_example() = code(&quot;&quot;&quot;
    a = 3
    b = 4

    a + b
    &quot;&quot;&quot;)</code></pre>
<p>Then, add this method via</p>
<pre>
```{.include}
_generated/sum_example.md
```
</pre>
<p>which gives as output</p>
<pre><code>a = 3
b = 4

a + b</code></pre>
<pre><code>7</code></pre>
<p>Here, how the output should be handled is based on the output type of the function. In this case, the output type is of type <code>Code</code>. Methods for other outputs exist too:</p>
<pre><code>example_table() = DataFrame(A = [1, 2], B = [3, 4])</code></pre>
<p>shows</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">A</th>
<th style="text-align: right;">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
<p>Alternatively, we can show the same by creating something of type <code>Code</code>.</p>
<pre><code>code_example_table() = code(&quot;&quot;&quot;
    using DataFrames

    DataFrame(A = [1, 2], B = [3, 4])
    &quot;&quot;&quot;)</code></pre>
<p>which shows as</p>
<pre><code>using DataFrames

DataFrame(A = [1, 2], B = [3, 4])</code></pre>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">A</th>
<th style="text-align: right;">B</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
<p>because the output of the code block is of type DataFrame.</p>
<p>In essence, this package doesn’t hide the implementation behind synctactic sugar. Instead, this package calls functions and gives you the freedom to decide what to do from there. As an example, we can pass <code>Module</code> objects to <code>code</code> to evaluate the code block in a specific module.</p>
<pre><code>module U end
function module_example()
    code(&quot;x = 3&quot;; mod=U)
end
</code></pre>
<p>When calling <code>module_example</code>, it shows as</p>
<span class="books-list-module">
    module: BooksDocs.U
</span>
<pre><code>x = 3</code></pre>
<pre><code>3</code></pre>
<p>Similarily, we can get the value of x:</p>
<span class="books-list-module">
    module: BooksDocs.U
</span>
<pre><code>x</code></pre>
<pre><code>3</code></pre>
<p>Unsuprisingly, creating a DataFrame will now fail because we haven’t loaded DataFrames</p>
<span class="books-list-module">
    module: BooksDocs.U
</span>
<pre><code>DataFrame(A = [1])</code></pre>
<pre><code>UndefVarError(:DataFrame)</code></pre>
<p>Which is easy to fix</p>
<span class="books-list-module">
    module: BooksDocs.U
</span>
<pre><code>using DataFrames 

DataFrame(A = [1])</code></pre>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">A</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
 
<div class="license">
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>
    Rik Huijzer
</div>
</body>
</html>

</div>
</div>
